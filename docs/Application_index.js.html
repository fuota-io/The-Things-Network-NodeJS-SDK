

<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Application/index.js</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Classes</h3><ul><li><a href="APICall.html">APICall</a></li><li><a href="Application.html">Application</a></li><li><a href="Organization.html">Organization</a></li><li><a href="User.html">User</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Source</p>
                    <h1>Application/index.js</h1>
                </header>
                



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
var __awaiter = (this &amp;&amp; this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __rest = (this &amp;&amp; this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) &amp;&amp; e.indexOf(p) &lt; 0)
        t[p] = s[p];
    if (s != null &amp;&amp; typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i &lt; p.length; i++) {
            if (e.indexOf(p[i]) &lt; 0 &amp;&amp; Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {
    return (mod &amp;&amp; mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Application = void 0;
const axios_1 = __importDefault(require("axios"));
/* It's a class that makes an API call and returns a promise. */
class APICall {
    send(params) {
        return __awaiter(this, void 0, void 0, function* () {
            /* It's making an API call and returning a promise. */
            return (0, axios_1.default)(params.url, {
                method: params.method,
                data: params.data,
                headers: params.headers,
            })
                .then((response) => {
                return response.data;
            })
                .catch((error) => {
                return Promise.reject(error.response.data);
            });
        });
    }
}
class Application {
    /**
     * The constructor function is a special function that is called when an object is created from a
     * class.
     * @param {Config} config - Config
     */
    constructor(config) {
        this.API = new APICall();
        this.COLLAB_ID = config.COLLAB_ID;
        this.IDENTITY_SERVER = config.IDENTITY_SERVER;
        this.JOIN_SERVER = config.JOIN_SERVER;
        this.APPLICATION_SERVER = config.APPLICATION_SERVER;
        this.NETWORK_SERVER = config.NETWORK_SERVER;
        this.API_KEY = config.API_KEY;
    }
    // /**
    //  * This function takes a string as an argument and returns that string.
    //  * @param {string} collabid - The ID of the collaboration.
    //  * @returns The value of the variable COLLAB_ID.
    //  */
    // collabId(collabid: string) {
    //     const COLLAB_ID = collabid;
    //     return COLLAB_ID;
    // }
    /**
     * The function returns an object with a property called AUTHORIZATION, which has a value of the
     * string "Bearer " concatenated with the value of the API_KEY property.
     * @returns The HEADERS object.
     */
    get headers() {
        const headers = { AUTHORIZATION: `Bearer ${this.API_KEY}` };
        return headers;
    }
    /**
     * This function takes a payload of type UserPayload and returns a promise of type GetApplication.
     * @param {UserPayload} payload - UserPayload
     * @returns The response from the API call.
     */
    getApplicationInfo(payload) {
        const apiPayload = {
            application: {
                ids: { application_id: payload.application_id },
            },
        };
        return this.API.send({
            method: 'GET',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}`,
            headers: this.headers,
            data: apiPayload,
        });
    }
    /**
     * It returns a promise that resolves to a GetApplicationList object.
     * @returns The response from the API call.
     */
    getApplicationList() {
        return this.API.send({
            method: 'GET',
            url: `${this.IDENTITY_SERVER}/applications`,
            headers: this.headers,
            data: {},
        });
    }
    /**
     * It takes a payload of type updateApplicationUserPayload, which is a subset of the payload required
     * by the API, and returns a promise of type UpdateApplication, which is the response from the API
     * @param {updateApplicationUserPayload} payload - updateApplicationUserPayload
     * @returns The response from the API call.
     */
    updateApplication(payload) {
        const { application_id } = payload, extractPayload = __rest(payload, ["application_id"]);
        const paths = Object.keys(extractPayload);
        const apiPayload = {
            application: {
                ids: { application_id: payload.application_id },
                name: payload.name,
                description: payload.description,
                attributes: payload.attributes,
            },
            field_mask: {
                paths: paths,
            },
        };
        return this.API.send({
            method: 'PUT',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}`,
            headers: this.headers,
            data: apiPayload,
        });
    }
    /**
     * It takes a payload object, and sends a DELETE request to the Identity Server, with the payload and
     * the headers
     * @param {DeleteApplicationUserPayload} payload - DeleteApplicationUserPayload
     * @returns The response from the API.
     */
    deleteApplication(payload) {
        return this.API.send({
            method: 'DELETE',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}`,
            headers: this.headers,
            data: payload,
        });
    }
    /**
     * This function restores an application that has been deleted.
     * @param {RestoreApplicationUserPayload} payload - RestoreApplicationUserPayload
     * @returns The response from the API.
     */
    restoreApplication(payload) {
        return this.API.send({
            method: 'POST',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/restore`,
            headers: this.headers,
            data: payload,
        });
    }
    /**
     * This function will delete an application from the database
     * @param {PurgeApplicationUserPayload} payload - PurgeApplicationUserPayload
     * @returns The response from the API.
     */
    purgeApplication(payload) {
        return this.API.send({
            method: 'DELETE',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/purge`,
            headers: this.headers,
            data: payload,
        });
    }
    /**
     * This function returns a promise that resolves to an object of type SearchApplication.
     * @returns A promise.
     */
    searchApplication() {
        return this.API.send({
            method: 'GET',
            url: `${this.IDENTITY_SERVER}/search/applications`,
            headers: this.headers,
            data: {},
        });
    }
    /**
     * It returns a promise that resolves to an object of type GetApplicationRight
     * @param {GetApplicationRightUserPayload} payload - GetApplicationRightUserPayload
     * @returns The response is an array of objects.
     */
    getApplicationRight(payload) {
        return this.API.send({
            method: 'GET',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/rights`,
            headers: this.headers,
            data: payload,
        });
    }
    /**
     * It creates an API key for a user
     * @param {CreateAPIKeyUserPayload} payload - CreateAPIKeyUserPayload
     * @returns The response from the API call.
     */
    createAPIKey(payload) {
        const apiPayload = {
            application_ids: { application_id: payload.application_id },
            name: payload.name,
            rights: payload.rights,
            expires_at: payload.expires_at,
        };
        return this.API.send({
            method: 'POST',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/api-keys`,
            headers: this.headers,
            data: apiPayload,
        });
    }
    /**
     * This function is used to get a list of API keys for a given application
     * @param {GetAPIKeyListUserPayload} payload - GetAPIKeyListUserPayload
     * @returns The response from the API call.
     */
    getAPIKeyList(payload) {
        return this.API.send({
            method: 'GET',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/api-keys`,
            headers: this.headers,
            data: payload,
        });
    }
    /**
     * This function takes a payload object with two properties, application_id and key_id, and returns a
     * promise that resolves to an object with the properties application_id, key_id, and key_secret
     * @param {GetAPIKeyInfoUserPayload} payload - GetAPIKeyInfoUserPayload
     * @returns The response from the API call.
     */
    getAPIKeyInfo(payload) {
        return this.API.send({
            method: 'GET',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/api-keys/${payload.key_id}`,
            headers: this.headers,
            data: payload,
        });
    }
    /**
     * This function takes an object with a bunch of properties and returns a promise that resolves to an
     * object with a bunch of properties.
     * @param {UpdateAPIKeyUserPayload} payload - UpdateAPIKeyUserPayload
     * @returns The response is a promise that resolves to an object of type UpdateAPIKey.
     */
    updateAPIKey(payload) {
        const extractPayload = {
            name: payload.api_key_name,
            rights: payload.api_key_rights,
            expires_at: payload.expires_at,
        };
        const paths = Object.keys(extractPayload);
        const apiPayload = {
            application_ids: { application_id: payload.application_id },
            api_key: {
                id: payload.api_key_id,
                name: payload.api_key_name,
                rights: payload.api_key_rights,
                expires_at: payload.expires_at,
            },
            field_mask: {
                paths: paths,
            },
        };
        return this.API.send({
            method: 'PUT',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/api-keys/${payload.api_key_id}`,
            headers: this.headers,
            data: apiPayload,
        });
    }
    /**
     * It takes a payload object, and returns a promise that resolves to a GetCollabortorList object
     * @param {GetCollabortorListUserPayload} payload - GetCollabortorListUserPayload
     * @returns The response from the API call.
     */
    getCollaboratorList(payload) {
        return this.API.send({
            method: 'GET',
            url: `${this.IDENTITY_SERVER}/applications/${payload.application_id}/collaborators`,
            headers: this.headers,
            data: payload,
        });
    }
}
exports.Application = Application;
</code></pre>
        </article>
    </section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>


</body>
</html>
